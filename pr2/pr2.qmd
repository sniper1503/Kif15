---
title: "Основы обработки данных с помощью R и Dplyr"
subtitle: "Отчет по практике 2"
author: "sniper12.04@yandex.ru"
format: 
  md:
    output-file: README.md
---

## Цель работы

 1. Развить практические навыки использования языка программирования R для
 обработки данных
 2. Закрепить знания базовых типов данных языка R
 3. Развить практические навыки использования функций обработки данных пакета
 dplyr – функции 
select(), filter(), mutate(), arrange(), group_by()

## Исходные данные

1.  Программное обеспечение ОСWindows 10 Pro
2.  RStudio
3.  Интерпретатор языка R 4.5.1

## План

1. Подключение пакета dplyr  
2. Получение количества строк в датафрейме  
3. Получение количества столбцов в датафрейме  
4. Просмотр структуры датафрейма  
5. Подсчёт количества уникальных рас  
6. Поиск самого высокого персонажа  
7. Поиск персонажей ниже 170 см  
8. Расчёт индекса массы тела (ИМТ)  
9. Поиск 10 самых “вытянутых” персонажей  
10. Расчёт среднего возраста по расам  
11. Определение самого распространённого цвета глаз  
12. Расчёт средней длины имени по расам

## Шаги:


``` {r}
sessionInfo()
```
### Подключение пакета dplyr 
```{r}
options(repos = c(CRAN = "https://mirror.truenetwork.ru/CRAN/"))
install.packages("dplyr")  
library(dplyr)
```
### Получение количества строк в датафрейме
```{r}
starwars %>% nrow()
```
### Получение количества столбцов в датафрейме
```{r}
starwars %>% ncol()
```
### Просмотр структуры датафрейма
```{r}
starwars %>% glimpse()
```
### Подсчёт количества уникальных рас
```{r}
starwars %>% distinct(species) %>% nrow()
```
### Поиск самого высокого персонажа

```{r}
starwars %>% filter(height == max(height, na.rm = TRUE))
```
### Поиск персонажей ниже 170 см
```{r}
starwars %>% filter(height < 170)
```
### Расчёт индекса массы тела (ИМТ)
```{r}
starwars %>% mutate(BMI = mass / (height/100)^2)
```
### Поиск 10 самых “вытянутых” персонажей
```{r}
starwars %>%
  mutate(stretch_ratio = mass / height) %>%
  arrange(desc(stretch_ratio)) %>%
  slice(1:10)
```
### Расчёт среднего возраста по расам
```{r}
starwars %>%
  group_by(species) %>%
  summarise(mean_age = mean(birth_year, na.rm = TRUE))
```
### Определение самого распространённого цвета глаз
```{r}
starwars %>%
  count(eye_color) %>%
  arrange(desc(n)) %>%
  slice(1)
```
### Расчёт средней длины имени по расам
```{r}
starwars %>%
  mutate(name_length = nchar(name)) %>%
  group_by(species) %>%
  summarise(mean_name_length = mean(name_length, na.rm = TRUE))
```



## Оценка результатов

В ходе практической работы были применены базовые навыки анализа данных, полученные ранее, для обработки набора starwars с использованием пакета dplyr

## Вывод

В результате работы были закреплены практические навыки применения функций dplyr, таких как select(), filter(), mutate(), arrange(), group_by() для анализа и трансформации данных

